<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>jsMind</title>
    <link type="text/css" rel="stylesheet" href="style/jsmind.css"/>
    <style type="text/css">

        body, html {
            margin: 0px;
            height: 100%;
        }

        #jsmind_container {
            width: 100%;
            margin: 0 auto;
            height: 100%;;
            border: solid 1px #ccc;
            /*background:#f4f4f4;*/
        }
    </style>
</head>
<body>
<div id="jsmind_container"></div>


<script type="text/javascript" src="js/jsmind.js"></script>
<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
    var _jm = null;

    var allDatas = [];


    $.get("data/config.json?t=" + Math.random, function (datas) {
        for (var i = 0; i < datas.length; i++) {
            var data = datas[i];
            var _data = $.ajax({url: "data/" + data.file + ".json?t=" + Math.random, async: false}).responseText;
            allDatas = allDatas.concat($.parseJSON(_data));
        }
        showMind();
    });

    function showMind() {
        var options = {
            container: 'jsmind_container',
            editable: false,
            theme: 'primary',
        }

        var mind = {
            "meta": {
                "name": "Android知识导航",
                "author": "https://github.com/hongyangAndroid",
                "version": "1.0"
            },
            "format": "node_array",
            "data": []
        };
        mind.data = allDatas;
        _jm = jsMind.show(options, mind);
    }


</script>
</body>
</html>
